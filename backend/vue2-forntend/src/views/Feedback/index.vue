<template>
    <v-app>
      <v-container ma-24>
          <v-col>

            <v-textarea
              v-model="content"
              label="ÊÇ®ÁöÑÊÑèËßÅÂØπÊàë‰ª¨ÂæàÈáçË¶Å!üíñ"
              outlined
              class="pa-12"
              centered
              append-icon="mdi-comment"
              rows="10"
              no-resize
            >
              <template v-slot:append>
                <v-btn @click="submit" :disabled="content==''" color="primary">
                  Êèê‰∫§
                  <v-icon>mdi-reply</v-icon>
                </v-btn>
              </template>
            </v-textarea>

          </v-col>
      </v-container>
    </v-app>

</template>


<script>
  import {feedback} from '@/api/user';
  export default {
    data: () => ({
      content:  '',
    }),

    methods: {
      submit() {
        if (this.content=='') {
          this.$message("‰∏çËÉΩ‰∏∫Á©∫Âì¶")
        }
        else {
          var data = {
            content: this.content
          }
          console.log(data)
          feedback(this.$store.getters.uid, data).then(res => {
            this.$message('Êèê‰∫§ÊàêÂäüÔºÅÊÑüË∞¢ÊÇ®ÁöÑÂèçÈ¶àÔºÅË°•ÈîÖ‰æ†Â∑≤ÁªèÂú®Ë∑Ø‰∏äÂï¶ÔºÅüòÉ')
            this.content = ''
            console.log(res)
            }).catch(error => {
            console.log(error)
          })
        }
      }
    }
  }
</script>
